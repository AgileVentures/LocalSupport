---
:scope: 
:url: https://do-it.org/partials/opportunity-card-small.html
:body: ''
:status: 200
:method: get
:headers:
  Accept-Ranges: bytes
  Content-Type: text/html
  Date: Sat, 06 Feb 2016 12:00:35 GMT
  ETag: '"569c1749-1300"'
  Last-Modified: Sun, 17 Jan 2016 22:35:53 GMT
  Server: nginx/1.4.6 (Ubuntu)
  Strict-Transport-Security: max-age=31536000
  Content-Length: '4864'
  Connection: close
:content: |
  <div class="opportunity-card" ng-class="{ 'is-job': model.job, 'has-image': !model.job }">
      <div ng-hide="model.flipped">
          <div class="is-saved" ng-if="model.is_user_saved && model.show_remove">
              <button class="btn btn-small btn-icon-only" ng-click="removeSave(model.job ? 'job' : 'opportunity')"><span class="icon icon-btn-close"></span></button>
          </div>
          <div class="section type" ng-if="!model.job && !env.TENANT_CONFIG.micro_volunteering_enabled">
              <p class="text-container" ng-if="model.specific_start_date && model.specific_end_date ">{{ model.specific_start_date | date : 'd MMM yyyy' }} - {{ model.specific_end_date | date : 'd MMM yyyy' }}</p>
              <p class="text-container" ng-if="!model.specific_start_date || !model.specific_end_date ">Ongoing</p>
          </div>
          <div class="section type" ng-if="!model.job && env.TENANT_CONFIG.micro_volunteering_enabled">
              <p>{{ model.micro_availability.length }} slot(s)</p>
          </div>
          <div class="section type" ng-if="model.job">
              <p class="text-container">Job Opportunity</p>
          </div>
          <div class="section image" ng-if="!model.job">
              <img src ng-src="{{ model.photo[1].absolute_url }}" alt="{{ model.title }}" ng-if="model.photo[1].absolute_url"/>
              <img src ng-src="{{ 'stock-image-large' | translate }}" alt="{{ model.title }}" ng-if="!model.photo[1].absolute_url"/>
          </div>
          <div class="section hr title">
              <p class="text-container">{{ model.title }}</p>
          </div>
          <div class="section hr organisation">
              <p class="text-container">{{ model.for_recruiter.name || model.owner.name }}</p>
          </div>
          <div class="section location">
              <span ng-if="model.location_type == 'SL'" class="address">
                  <p class="text-container">{{model.city}}</p>
                  <span ng-if="model.city && model.postcode && model.location_type == 'SL'">
                      ,&nbsp;{{model.postcode}}
                  </span>
              </span>
              <span ng-if="model.location_type == 'RL'" class="address"><p class="text-container">{{model.location_name}}</p></span>
              <span ng-if="model.location_type == 'NL' && !model.working_from_home" class="address"><p class="text-container">Flexible location</p></span>
              <span ng-if="model.location_type == 'NL' && model.working_from_home" class="address"><p class="text-container">Working from home</p></span>

              <!-- <span class="right distance"><p class="text-container"></p></span> -->
          </div>
          <rating class="right rating" ng-if="model.rating" ng-model="model.rating" max="3" state-on="'icon icon-rating-black-on'" state-off="'icon icon-rating-black-off'" readonly="true"></rating>
          <div class="section actions">
              <div class="action-group">
                  <a href="#/{{model.job ? 'jobs' : 'opportunities'}}/{{model.id}}" class="btn btn-small btn-action view">View</a>

                  <button ng-click="saveToDashboard(model.job ? 'job' : 'opportunity')" ng-class="{ 'btn-transparent-white': model.job, 'btn-transparent-black': !model.job }" class="btn btn-small btn-transparent btn-action save" ng-disabled="model.is_user_saved">
                      <span ng-if="!model.is_user_saved">Save</span>
                      <span ng-if="model.is_user_saved">Saved</span>
                  </button>
                  <!--
                  <button class="btn btn-small btn-transparent btn-transparent-black btn-icon-only context" ng-click="model.flipped = true">
                      <span class="icon icon-context-black"></span>
                  </button>
                  -->
              </div>
          </div>
      </div>

  <!--
      <div class="show-me-more" ng-show="model.flipped" ng-if="model.interests || model.activities">

          <p>This opportunity is ideal for these <span class="highlight">interests:</span></p>
          <ul class="btn-list">
              <li ng-repeat="item in model.interests"><a href ng-href="#/opportunities?interests={{ item.slug }}" class="btn btn-small btn-transparent btn-transparent-white">{{ item.name }}</a></li>
          </ul>

          <p>and features the following <span class="highlight">activities:</span></p>
          <ul class="btn-list">
              <li ng-repeat="item in model.activities"><a href ng-href="#/opportunities?activity={{ item.slug }}" class="btn btn-small btn-transparent btn-transparent-white">{{ item.name }}</a></li>
          </ul>

          <button class="btn btn-small btn-transparent btn-transparent-white btn-icon-only close" ng-click="model.flipped = false"><span class="icon icon-btn-close"></span></button>
          <a href="#/opportunities?activity={{ model.mergedInterests }}" class="btn btn-small show-me">Show me more like this</a>

      </div>
  -->
  </div>
